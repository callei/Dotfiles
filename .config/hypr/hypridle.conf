# --------------------------------- #
# HyprIdle Configuration File
# --------------------------------- #

# Behavior: screen DPMS off after 60s, lock at 60s, suspend after 180s.
# Adjust the `timeout` values (seconds) as you prefer.

# Inhibit idle if a download is running in terminal, or media is playing.
inhibit = wget
inhibit = curl
inhibit = aria2c
inhibit = axel
inhibit = yay
inhibit = pacman
inhibit = playerctl status | grep -q Playing

general {
    # Command used to lock the session. Uses hyprlock if installed, otherwise falls back to loginctl lock-session.
    lock_cmd = "pidof hyprlock || hyprlock"

    # Whether to ignore idle inhibitors from DBus/systemd
    ignore_dbus_inhibit = false
    ignore_systemd_inhibit = false

}

# Turn the screen off (DPMS) after 60 seconds of idle
listener {
    timeout = 60
    on-timeout = brightnessctl -s set 10%
    on-resume = brightnessctl -r
}

# Lock the session after 90 seconds of idle (runs the `lock_cmd` above)
listener {
    timeout = 90
    on-timeout = hyprctl dispatch dpms off
    on-resume = hyprctl dispatch dpms on
}

# Lock the session after 90 seconds of idle (runs the `lock_cmd` above)
listener {
    timeout = 90
    on-timeout = pidof hyprlock || hyprlock
}

# Suspend the machine after 180 seconds (3 minutes) of idle
listener {
    timeout = 180
    on-timeout = systemctl suspend
}
